<!DOCTYPE html>
<html lang="en">
    <head>
        <script>
            async function getRequest() {
                var data = await fetch('/request/');
                //var stringified = JSON.stringify(await data.json())
                document.getElementById('TextAreaId').value = data;
            }

            async function getState() {
                console.log("testlog")
                var data = await fetch('/state/');
                //var stringified = JSON.stringify(await data.json())
                document.getElementById('TextAreaId').value = data;
            }

            async function getRunLog() {
                console.log("testlog")
                var data = await fetch('/run-log/');
                //var stringified = JSON.stringify(await data.json())
                document.getElementById('TextAreaId').value = data;
            }

            async function shutdown(){
                changeState('SHUTDOWN')
            }
            async function pause(){
                changeState('PAUSED')
            }
            async function init(){
                changeState('INIT')
            }
            async function running(){
                changeState('RUNNING')
            }

            async function changeState(command){
                console.log(command)
                var options = {
                    method: 'PUT',
                    body: command
                }
                var data = await fetch('/state/', options)
                console.log(data);
            }


        </script>
    </head>
    <body>
        <h1>Options For the API</h1>
        <button onclick="getRequest()">Get Request</button>
        <button onclick="getRunLog()">Get Run-log</button>
        <button onclick="getState()">Get State</button>
        <button onclick="shutdown()">Set state: Shutdown</button>
        <button onclick="pause()">Set state: Pause</button>
        <button onclick="init()">Set state: Init</button>
        <button onclick="running()">Set state: Running</button>
        <textarea rows="20" cols="100" id="TextAreaId"></textarea>
    </body>
</html>